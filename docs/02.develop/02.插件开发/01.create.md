---
title: 创建项目
permalink: /wiki/shadowviewer/plugin/create
article: false
comment: true
author: 
  name: kitUIN
  link: https://github.com/kitUIN
date: 2023-11-02 15:22:49
---

## Git 克隆项目

你需要克隆以下两个项目:

- [ShadowViewer](https://github.com/kitUIN/ShadowViewer)
- [ShadowViewer.Core](https://github.com/kitUIN/ShadowViewer.Core)

并且把这两个项目放在同一个文件夹中  
打开`ShadowViewer.sln`就能看到成功加载了这两个项目

## 创建项目

![0kwzpx.png](https://files.catbox.moe/0kwzpx.png)  
1.新建项目(例如命名为`ShadowViewer.Plugin.Bika`)  

⚠️一定要以`ShadowViewer.Plugin`开头

![t17eyq.png](https://files.catbox.moe/t17eyq.png)  
2.放在同一个解决方案里

![cuwxu0.png](https://files.catbox.moe/cuwxu0.png)  
3.设置项目依赖  
如果你有别的依赖,直接依赖就行

4.修改`.csproj`文件  
在`PropertyGroup`中添加一行

```xml
<CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
```

在`Project`添加

```xml
<Target Name="PostBuild" AfterTargets="PostBuildEvent">
  <Exec Command="PowerShell .\thin.ps1 $(OutDir) $(ProjectDir) $(AssemblyName) $(Configuration)" />
</Target>
```

同时你需要把[`thin.ps1`](https://github.com/kitUIN/ShadowViewer.Plugin.Bika/blob/master/ShadowViewer.Plugin.Bika/thin.ps1)文件下载下来放到`.csproj`文件同目录

> `thin.ps1`文件脚本是为了移除ShadowViewer已有的重复依赖,同时提供打包功能
